{"version":3,"file":"index.js","sources":["../src/js/handlers.js","../src/home.js"],"sourcesContent":["// Функції, які передаються колбеками в addEventListners\nimport { getProducts, getProductsByCategories, getProductById, getProductByName } from \"./products-api\";\nimport { addProducts, clearList } from \"./render-function\";\nimport { STORAGE_KEYS } from \"./constants\";\nimport { refs } from \"./refs\";\n\nexport async function loadMore() {\n    let list = await getProducts(STORAGE_KEYS.currentPage);\n    if (isEmpty(list) == true) return;\n    addProducts(list);\n    STORAGE_KEYS.currentPage++;\n}\n\n\nexport async function categoryChoosen(event) {\n    if (event.target.nodeName != \"BUTTON\") return;\n    clearList();\n    refs.loader.classList.remove(\"not-found--visible\");\n    STORAGE_KEYS.currentPage = 1;\n    const firstButton = refs.ul_categories.querySelector(\"button\");\n    if (event.target == firstButton) {\n        categoryUnchoosen();\n        return;\n    }\n    refs.load_button.removeEventListener(\"click\", loadMore);\n    refs.load_button.removeEventListener(\"click\", loadMoreByName);\n    refs.load_button.addEventListener(\"click\", loadMoreByCategory);\n    STORAGE_KEYS.choosenCategory = event.target.textContent;\n    loadMoreByCategory();\n}\n\nexport async function loadMoreByCategory() {\n    let list = await getProductsByCategories(STORAGE_KEYS.currentPage, STORAGE_KEYS.choosenCategory);\n    if (isEmpty(list) == true) return;\n    addProducts(list);\n    STORAGE_KEYS.currentPage++;\n}\n\nexport function categoryUnchoosen() {\n    refs.load_button.removeEventListener(\"click\", loadMoreByCategory);\n    refs.load_button.removeEventListener(\"click\", loadMoreByName);\n    refs.load_button.addEventListener(\"click\", loadMore);\n    loadMore();\n}\n\nexport function isEmpty(list) {\n    if (list.length == 0) {\n        refs.loader.classList.add(\"not-found--visible\");\n        return true;\n    }\n    return false;\n}\n\n\n\nexport async function searchProduct(event) {\n    event.preventDefault();\n\n\n    STORAGE_KEYS.choosenName = event.target.elements.searchValue.value.trim();\n    if (STORAGE_KEYS.choosenName == \"\") return;\n    STORAGE_KEYS.currentPage = 1;\n    const list = await getProductByName(STORAGE_KEYS.currentPage, STORAGE_KEYS.choosenName);\n    refs.loader.classList.remove(\"not-found--visible\");\n    clearList();\n    if (isEmpty(list) == true) {\n        event.target.elements.searchValue.value = \"\";\n        return;\n    }\n    addProducts(list);\n    STORAGE_KEYS.currentPage++;\n\n    refs.load_button.removeEventListener(\"click\", loadMoreByCategory);\n    refs.load_button.removeEventListener(\"click\", loadMore);\n    refs.load_button.addEventListener(\"click\", loadMoreByName);\n}\n\n\nexport async function loadMoreByName() {\n\n    let list = await getProductByName(STORAGE_KEYS.currentPage, STORAGE_KEYS.choosenName);\n    if (isEmpty(list) == true) return;\n    addProducts(list);\n    STORAGE_KEYS.currentPage++;\n}\n\n\nexport async function cancelSearch() {\n    refs.load_button.removeEventListener(\"click\", loadMoreByCategory);\n    refs.load_button.removeEventListener(\"click\", loadMoreByName);\n    refs.load_button.addEventListener(\"click\", loadMore);\n    STORAGE_KEYS.currentPage = 1;\n    refs.loader.classList.remove(\"not-found--visible\");\n    clearList();\n    refs.form_input.value = \"\";\n    loadMore();\n\n}","//Логіка сторінки Home\nimport { getCategories, } from \"./js/products-api\";\nimport { addCategories, wishlistCounterUpdate, cartCounterUpdate } from \"./js/render-function\";\nimport { categoryChoosen, loadMore, searchProduct, cancelSearch } from \"./js/handlers\";\nimport { cardOpened, cardClosed, addToCart, addToWishlist } from \"./js/modal\";\nimport { refs } from \"./js/refs\";\nimport { STORAGE_KEYS } from \"./js/constants\";\n\n\nasync function init() {\n    let categories = await getCategories();\n    categories.unshift(\"All\");\n    addCategories(categories);\n}\ninit();\nSTORAGE_KEYS.wishlist = JSON.parse(localStorage.getItem(\"wishlist\")) || [];\nSTORAGE_KEYS.cart = JSON.parse(localStorage.getItem(\"cart\")) || [];\nwishlistCounterUpdate();\ncartCounterUpdate();\nrefs.ul_categories.addEventListener(\"click\", categoryChoosen);\n\nloadMore();\nrefs.load_button.addEventListener(\"click\", loadMore);\nrefs.form.addEventListener(\"submit\", searchProduct);\nrefs.form_cancel.addEventListener(\"click\", cancelSearch);\n\nrefs.ul_products.addEventListener(\"click\", cardOpened);\nrefs.modal_close.addEventListener(\"click\", cardClosed);\nrefs.button_add_to_cart.addEventListener(\"click\", addToCart);\nrefs.button_add_to_wishlist.addEventListener(\"click\", addToWishlist);"],"names":["loadMore","list","getProducts","STORAGE_KEYS","isEmpty","addProducts","categoryChoosen","event","clearList","refs","firstButton","categoryUnchoosen","loadMoreByName","loadMoreByCategory","getProductsByCategories","searchProduct","getProductByName","cancelSearch","init","categories","getCategories","addCategories","wishlistCounterUpdate","cartCounterUpdate","cardOpened","cardClosed","addToCart","addToWishlist"],"mappings":"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"}