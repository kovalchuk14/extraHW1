{"version":3,"file":"modal-BR2GURZI.js","sources":["../../src/js/constants.js","../../src/js/refs.js","../../src/js/render-function.js","../../src/js/products-api.js","../../src/js/modal.js"],"sourcesContent":["//Константи\n\nexport const STORAGE_KEYS = {\n    currentPage: 1,\n    choosenCategory: \"\",\n    choosenName: \"\",\n    currentId: 1,\n    cart: [],\n    wishlist: [],\n};\n","//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n    ul_categories: document.querySelector(\".categories\"),\n    ul_products: document.querySelector(\".products\"),\n    load_button: document.querySelector(\"#load-more\"),\n    loader: document.querySelector(\".not-found\"),\n    modal: document.querySelector(\".modal\"),\n    modal_product: document.querySelector(\".modal-product\"),\n    modal_close: document.querySelector(\".modal__close-btn\"),\n    form: document.querySelector(\".search-form\"),\n    form_input: document.querySelector(\".search-form__input\"),\n    form_cancel: document.querySelector(\".search-form__btn-clear\"),\n    button_add_to_cart: document.querySelector(\".modal-product__btn--cart\"),\n    cart_count: document.querySelector(\"[data-cart-count]\"),\n    wishlist_count: document.querySelector(\"[data-wishlist-count]\"),\n    button_add_to_wishlist: document.querySelector(\".modal-product__btn--wishlist\"),\n    cart_sum: document.querySelector(\"[data-count]\"),\n    cart_amount: document.querySelector(\"[data-price]\"),\n    buy_all: document.querySelector(\".cart-summary__btn\")\n};\n","//Функцію для створення, рендеру або видалення розмітки\n\nimport { refs } from \"./refs\";\n\nexport function addCategories(list) {\n    const content = list.map((category) => {\n        return `\n            <li class=\"categories__item\">\n                <button class=\"categories__btn\" type=\"button\">${category}</button>\n             </li>\n        `;\n    }).join(\"\");\n    refs.ul_categories.insertAdjacentHTML(\"beforeend\", content);\n}\n\nexport function addProducts(list) {\n    const content = list.map((product) => {\n        return `\n            <li class=\"products__item\" data-id=\"${product.id}\">\n                <img class=\"products__image\" src=\"${product.images[0]}\" alt=\"${product.description}\"/>\n                <p class=\"products__title\">${product.title}</p>\n                <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: </span>${product.brand}</p>\n                <p class=\"products__category\">Category: ${product.category}</p>\n                <p class=\"products__price\">Price: ${product.price}$</p>\n            </li>\n        `;\n    }).join(\"\");\n    refs.ul_products.insertAdjacentHTML(\"beforeend\", content);\n}\n\nexport function clearList() {\n    refs.ul_products.innerHTML = \"\";\n}\n\nexport function addModal(data) {\n    refs.modal.classList.add(\"modal--is-open\");\n    refs.modal_product.innerHTML = \"\";\n    refs.modal_product.insertAdjacentHTML(\"beforeend\",\n        `\n            <img class=\"modal-product__img\" src=\"${data.images[0]}\" alt=\"${data.description}\" />\n            <div class=\"modal-product__content\">\n                <p class=\"modal-product__title\">${data.title}</p>\n                <ul class=\"modal-product__tags\">${data.tags}</ul>\n                <p class=\"modal-product__description\">${data.description}</p>\n                <p class=\"modal-product__shipping-information\">Shipping: ${data.shipingInformation}</p>\n                <p class=\"modal-product__return-policy\">Return Policy: ${data.returnPolicy}</p>\n                <p class=\"modal-product__price\">Price: ${data.price}$</p>\n                <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n            </div>\n        `\n    )\n}\n\nexport function removeModal() {\n    refs.modal.classList.remove(\"modal--is-open\");\n}\n\nexport function addCartButtonOff() {\n    refs.button_add_to_cart.textContent = \"Remove from Cart\";\n}\n\nexport function addCartButtonOn() {\n    refs.button_add_to_cart.textContent = \"Add to Cart\";\n}\n\nexport function cartCounterUpdate() {\n    refs.cart_count.textContent = (JSON.parse(localStorage.getItem(\"cart\")) || []).length;\n}\n\nexport function addWishlistButtonOff() {\n    refs.button_add_to_wishlist.textContent = \"Remove from Wishlist\";\n}\n\nexport function addWishlistButtonOn() {\n    refs.button_add_to_wishlist.textContent = \"Add to Wishlist\";\n}\n\nexport function wishlistCounterUpdate() {\n    refs.wishlist_count.textContent = (JSON.parse(localStorage.getItem(\"wishlist\")) || []).length;\n}\n","// Функції для роботи з бекендом\nimport axios from \"axios\";\n\nconst endPoints = [\n    \"https://dummyjson.com/docs/products\",\n    \"https://dummyjson.com/products?limit=12&skip=\",\n    \"https://dummyjson.com/products/\",\n    \"https://dummyjson.com/products/search?q=\",\n    \"https://dummyjson.com/products/category-list\",\n    \"https://dummyjson.com/products/category/\"\n]\n\nexport async function getCategories() {\n    const response = await axios.get(endPoints[4]);\n    return response.data;\n}\n\nexport async function getProducts(page) {\n    const response = await axios.get(endPoints[1] + `${(page - 1) * 12}`);\n    return response.data.products;\n}\n\nexport async function getProductsByCategories(page, category) {\n    const response = await axios.get(endPoints[5] + category);\n    return (response.data.products.slice(((page - 1) * 12), page * 12));\n}\n\nexport async function getProductById(id) {\n    const response = await axios.get(endPoints[2] + id);\n    return response.data;\n}\n\nexport async function getProductByName(page, name) {\n    const response = await axios.get(endPoints[3] + name);\n    return (response.data.products.slice(((page - 1) * 12), page * 12));\n}","//Описана робота модалки - відкриття закриття і все що з модалкою повʼязано\n\nimport { addModal, removeModal, addCartButtonOff, addCartButtonOn, cartCounterUpdate, addWishlistButtonOff, addWishlistButtonOn, wishlistCounterUpdate } from \"./render-function\";\nimport { getProductById } from \"./products-api\";\nimport { STORAGE_KEYS } from \"./constants\";\nimport { refs } from \"./refs\";\nexport async function cardOpened(event) {\n    const li = event.target.closest(\"li\");\n    if (!li) return;\n\n    const data = await getProductById(li.dataset.id);\n    STORAGE_KEYS.currentId = li.dataset.id;\n    if (STORAGE_KEYS.cart.includes(Number(STORAGE_KEYS.currentId))) {\n        addCartButtonOff();\n        refs.button_add_to_cart.addEventListener(\"click\", removeFromCart);\n        refs.button_add_to_cart.removeEventListener(\"click\", addToCart);\n    } else {\n        addCartButtonOn();\n        refs.button_add_to_cart.addEventListener(\"click\", addToCart);\n        refs.button_add_to_cart.removeEventListener(\"click\", removeFromCart);\n    }\n    if (STORAGE_KEYS.wishlist.includes(Number(STORAGE_KEYS.currentId))) {\n        addWishlistButtonOff();\n        refs.button_add_to_wishlist.addEventListener(\"click\", removeFromWishlist);\n        refs.button_add_to_wishlist.removeEventListener(\"click\", addToWishlist);\n    } else {\n        addWishlistButtonOn();\n        refs.button_add_to_wishlist.addEventListener(\"click\", addToWishlist);\n        refs.button_add_to_wishlist.removeEventListener(\"click\", removeFromWishlist);\n    }\n\n    addModal(data);\n}\n\nexport function cardClosed() {\n    removeModal();\n}\n\nexport function addToCart(event) {\n    if (!STORAGE_KEYS.cart.includes(Number(STORAGE_KEYS.currentId))) {\n        STORAGE_KEYS.cart.push(Number(STORAGE_KEYS.currentId));\n        localStorage.setItem(\"cart\", JSON.stringify(STORAGE_KEYS.cart));\n        cartCounterUpdate();\n        addCartButtonOff();\n        refs.button_add_to_cart.removeEventListener(\"click\", addToCart);\n        refs.button_add_to_cart.addEventListener(\"click\", removeFromCart);\n    }\n}\n\nfunction removeFromCart() {\n\n    addCartButtonOn();\n    refs.button_add_to_cart.removeEventListener(\"click\", removeFromCart);\n    refs.button_add_to_cart.addEventListener(\"click\", addToCart);\n    STORAGE_KEYS.cart.splice((STORAGE_KEYS.cart.indexOf(Number(STORAGE_KEYS.currentId))), 1);\n    localStorage.setItem(\"cart\", JSON.stringify(STORAGE_KEYS.cart));\n    cartCounterUpdate();\n}\n\nexport function addToWishlist(event) {\n    if (!STORAGE_KEYS.wishlist.includes(Number(STORAGE_KEYS.currentId))) {\n        STORAGE_KEYS.wishlist.push(Number(STORAGE_KEYS.currentId));\n        localStorage.setItem(\"wishlist\", JSON.stringify(STORAGE_KEYS.wishlist));\n        wishlistCounterUpdate();\n        addWishlistButtonOff();\n        refs.button_add_to_wishlist.removeEventListener(\"click\", addToWishlist);\n        refs.button_add_to_wishlist.addEventListener(\"click\", removeFromWishlist);\n    }\n}\n\nfunction removeFromWishlist() {\n\n    addWishlistButtonOn();\n    refs.button_add_to_wishlist.removeEventListener(\"click\", removeFromWishlist);\n    refs.button_add_to_wishlist.addEventListener(\"click\", addToWishlist);\n    STORAGE_KEYS.wishlist.splice((STORAGE_KEYS.wishlist.indexOf(Number(STORAGE_KEYS.currentId))), 1);\n    localStorage.setItem(\"wishlist\", JSON.stringify(STORAGE_KEYS.wishlist));\n    wishlistCounterUpdate();\n}"],"names":["STORAGE_KEYS","refs","addCategories","list","content","category","addProducts","product","clearList","addModal","data","removeModal","addCartButtonOff","addCartButtonOn","cartCounterUpdate","addWishlistButtonOff","addWishlistButtonOn","wishlistCounterUpdate","endPoints","getCategories","axios","getProducts","page","getProductsByCategories","getProductById","id","getProductByName","name","cardOpened","event","li","removeFromCart","addToCart","removeFromWishlist","addToWishlist","cardClosed"],"mappings":"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"}