import{a as i}from"./vendor-D_elxl8o.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))p(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&p(m)}).observe(document,{childList:!0,subtree:!0});function s(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function p(n){if(n.ep)return;n.ep=!0;const c=s(n);fetch(n.href,c)}})();const o={currentPage:1,choosenCategory:"",choosenName:"",currentId:1,cart:[],wishlist:[]},t={ul_categories:document.querySelector(".categories"),ul_products:document.querySelector(".products"),load_button:document.querySelector("#load-more"),loader:document.querySelector(".not-found"),modal:document.querySelector(".modal"),modal_product:document.querySelector(".modal-product"),modal_close:document.querySelector(".modal__close-btn"),form:document.querySelector(".search-form"),form_input:document.querySelector(".search-form__input"),form_cancel:document.querySelector(".search-form__btn-clear"),button_add_to_cart:document.querySelector(".modal-product__btn--cart"),cart_count:document.querySelector("[data-cart-count]"),wishlist_count:document.querySelector("[data-wishlist-count]"),button_add_to_wishlist:document.querySelector(".modal-product__btn--wishlist"),cart_sum:document.querySelector("[data-count]"),cart_amount:document.querySelector("[data-price]"),buy_all:document.querySelector(".cart-summary__btn")};function O(e){const r=e.map(s=>`
            <li class="categories__item">
                <button class="categories__btn" type="button">${s}</button>
             </li>
        `).join("");t.ul_categories.insertAdjacentHTML("beforeend",r)}function q(e){const r=e.map(s=>`
            <li class="products__item" data-id="${s.id}">
                <img class="products__image" src="${s.images[0]}" alt="${s.description}"/>
                <p class="products__title">${s.title}</p>
                <p class="products__brand"><span class="products__brand--bold">Brand: </span>${s.brand}</p>
                <p class="products__category">Category: ${s.category}</p>
                <p class="products__price">Price: ${s.price}$</p>
            </li>
        `).join("");t.ul_products.insertAdjacentHTML("beforeend",r)}function E(){t.ul_products.innerHTML=""}function w(e){t.modal.classList.add("modal--is-open"),t.modal_product.innerHTML="",t.modal_product.insertAdjacentHTML("beforeend",`
            <img class="modal-product__img" src="${e.images[0]}" alt="${e.description}" />
            <div class="modal-product__content">
                <p class="modal-product__title">${e.title}</p>
                <ul class="modal-product__tags">${e.tags}</ul>
                <p class="modal-product__description">${e.description}</p>
                <p class="modal-product__shipping-information">Shipping: ${e.shipingInformation}</p>
                <p class="modal-product__return-policy">Return Policy: ${e.returnPolicy}</p>
                <p class="modal-product__price">Price: ${e.price}$</p>
                <button class="modal-product__buy-btn" type="button">Buy</button>
            </div>
        `)}function S(){t.modal.classList.remove("modal--is-open")}function f(){t.button_add_to_cart.textContent="Remove from Cart"}function y(){t.button_add_to_cart.textContent="Add to Cart"}function h(){t.cart_count.textContent=(JSON.parse(localStorage.getItem("cart"))||[]).length}function g(){t.button_add_to_wishlist.textContent="Remove from Wishlist"}function b(){t.button_add_to_wishlist.textContent="Add to Wishlist"}function v(){t.wishlist_count.textContent=(JSON.parse(localStorage.getItem("wishlist"))||[]).length}const a=["https://dummyjson.com/docs/products","https://dummyjson.com/products?limit=12&skip=","https://dummyjson.com/products/","https://dummyjson.com/products/search?q=","https://dummyjson.com/products/category-list","https://dummyjson.com/products/category/"];async function I(){return(await i.get(a[4])).data}async function N(e){return(await i.get(a[1]+`${(e-1)*12}`)).data.products}async function $(e,r){return(await i.get(a[5]+r)).data.products.slice((e-1)*12,e*12)}async function L(e){return(await i.get(a[2]+e)).data}async function P(e,r){return(await i.get(a[3]+r)).data.products.slice((e-1)*12,e*12)}async function k(e){const r=e.target.closest("li");if(!r)return;const s=await L(r.dataset.id);o.currentId=r.dataset.id,o.cart.includes(Number(o.currentId))?(f(),t.button_add_to_cart.addEventListener("click",u),t.button_add_to_cart.removeEventListener("click",d)):(y(),t.button_add_to_cart.addEventListener("click",d),t.button_add_to_cart.removeEventListener("click",u)),o.wishlist.includes(Number(o.currentId))?(g(),t.button_add_to_wishlist.addEventListener("click",_),t.button_add_to_wishlist.removeEventListener("click",l)):(b(),t.button_add_to_wishlist.addEventListener("click",l),t.button_add_to_wishlist.removeEventListener("click",_)),w(s)}function j(){S()}function d(e){o.cart.includes(Number(o.currentId))||(o.cart.push(Number(o.currentId)),localStorage.setItem("cart",JSON.stringify(o.cart)),h(),f(),t.button_add_to_cart.removeEventListener("click",d),t.button_add_to_cart.addEventListener("click",u))}function u(){y(),t.button_add_to_cart.removeEventListener("click",u),t.button_add_to_cart.addEventListener("click",d),o.cart.splice(o.cart.indexOf(Number(o.currentId)),1),localStorage.setItem("cart",JSON.stringify(o.cart)),h()}function l(e){o.wishlist.includes(Number(o.currentId))||(o.wishlist.push(Number(o.currentId)),localStorage.setItem("wishlist",JSON.stringify(o.wishlist)),v(),g(),t.button_add_to_wishlist.removeEventListener("click",l),t.button_add_to_wishlist.addEventListener("click",_))}function _(){b(),t.button_add_to_wishlist.removeEventListener("click",_),t.button_add_to_wishlist.addEventListener("click",l),o.wishlist.splice(o.wishlist.indexOf(Number(o.currentId)),1),localStorage.setItem("wishlist",JSON.stringify(o.wishlist)),v()}export{o as S,k as a,j as b,h as c,d,l as e,q as f,L as g,N as h,E as i,$ as j,P as k,I as l,O as m,t as r,v as w};
//# sourceMappingURL=modal-BR2GURZI.js.map
